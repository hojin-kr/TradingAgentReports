# GitHub Actions Workflow κµ¬ν„ μ™„λ£ 

## π― κµ¬ν„ μ™„λ£ μ‚¬ν•­

λ‰΄μ¤ λ¦¬ν¬νΈ ν›„μ²λ¦¬ μ¤ν¬λ¦½νΈλ¥Ό GitHub Actions workflowλ΅ μ‹¤ν–‰ν•  μ μλ„λ΅ μ™„μ „ν κµ¬ν„ν–μµλ‹λ‹¤.

### β… μƒμ„±λ νμΌλ“¤

1. **`.github/workflows/postprocess-news-reports.yml`**
   - λ‰΄μ¤ λ¦¬ν¬νΈ μ „μ© μ›ν¬ν”λ΅μ°
   - μλ™/μλ™ νΈλ¦¬κ±° μ§€μ›
   - ν’μ§ κ²€μ‚¬ ν¬ν•¨

2. **`.github/workflows/postprocess-all-reports.yml`**
   - ν¬μ κ²°μ • + λ‰΄μ¤ λ¦¬ν¬νΈ ν†µν•© μ²λ¦¬
   - μ„ νƒμ  μ²λ¦¬ μµμ… μ κ³µ
   - κ°€μ¥ μ μ—°ν•κ³  κ¶μ¥λλ” μ›ν¬ν”λ΅μ°

3. **`test_workflows.sh`**
   - λ΅μ»¬ ν…μ¤νΈ μ¤ν¬λ¦½νΈ
   - λ¨λ“  μ”κµ¬μ‚¬ν•­ κ²€μ¦
   - μ‹¤ν–‰ μ „ λ¬Έμ μ  μ‚¬μ „ λ°κ²¬

4. **`GITHUB_WORKFLOWS_README.md`**
   - μƒμ„Έν• μ‚¬μ©λ²• κ°€μ΄λ“
   - μ›ν¬ν”λ΅μ° μ„ νƒ κ°€μ΄λ“
   - μ„¤μ • μ”κµ¬μ‚¬ν•­

## π€ μ›ν¬ν”λ΅μ° νΉμ§•

### μλ™ νΈλ¦¬κ±°
- `generate-reports.yml` μ™„λ£ μ‹ μλ™ μ‹¤ν–‰
- μµμ‹  λ¦¬ν¬νΈ λ‚ μ§ μλ™ κ°μ§€
- μ¤λ§νΈν• νμΌ λ°κ²¬ λ΅μ§

### μλ™ νΈλ¦¬κ±°
- GitHub UIμ—μ„ ν΄λ¦­μΌλ΅ μ‹¤ν–‰
- GitHub CLIλ΅ λ…λ Ήμ–΄ μ‹¤ν–‰
- μ μ—°ν• λ§¤κ°λ³€μ μ„¤μ •

### ν’μ§ λ³΄μ¥
- κµ¬μ΅° κ²€μ¦ (ν•„μ μ„Ήμ… ν™•μΈ)
- μ½ν…μΈ  ν’μ§ λ¶„μ„ (λ¶λ¦Ώ ν¬μΈνΈ, κ°€κ²© μ–ΈκΈ‰)
- μλ™ν™”λ ν’μ§ λ¦¬ν¬νΈ μƒμ„±

### μ—λ¬ μ²λ¦¬
- μμ΅΄μ„± μ„¤μΉ μ‹¤ν¨ μ‹μ—λ„ κ³„μ† μ§„ν–‰
- νμΌ λ„λ½ μ‹ λ…ν™•ν• μ—λ¬ λ©”μ‹μ§€
- λ¶€λ¶„ μ‹¤ν¨ μ‹μ—λ„ μ„±κ³µν• λ¶€λ¶„ μ²λ¦¬

## π”§ μ‚¬μ©λ²•

### 1. μ¦‰μ‹ ν…μ¤νΈ
```bash
# λ΅μ»¬μ—μ„ λ¨λ“  μ”κµ¬μ‚¬ν•­ κ²€μ¦
./test_workflows.sh
```

### 2. μλ™ μ‹¤ν–‰ (GitHub UI)
1. GitHub β†’ Actions νƒ­
2. "Post-process All Reports" μ„ νƒ
3. "Run workflow" ν΄λ¦­
4. λ‚ μ§ μ…λ ¥ ν›„ μ‹¤ν–‰

### 3. λ…λ Ήμ–΄ μ‹¤ν–‰ (GitHub CLI)
```bash
# λ“λΌμ΄ λ°μΌλ΅ μ•μ „ν•κ² ν…μ¤νΈ
gh workflow run postprocess-all-reports.yml \
  -f date=2025-09-22 \
  -f dry_run=true

# μ‹¤μ  μ²λ¦¬ μ‹¤ν–‰
gh workflow run postprocess-all-reports.yml \
  -f date=2025-09-22
```

### 4. μλ™ μ‹¤ν–‰
- `generate-reports.yml` μ‹¤ν–‰ ν›„ μλ™μΌλ΅ νΈλ¦¬κ±°λ¨
- λ³„λ„ μ„¤μ • λ¶ν•„μ”

## π“ μ²λ¦¬ κ²°κ³Ό

### μ…λ ¥
```
reports/YYYY-MM-DD/BUY|HOLD|SELL/TICKER/EN/
β”β”€β”€ news_report.md                    # μ›λ³Έ
β””β”€β”€ final_trade_decision.md           # μ›λ³Έ
```

### μ¶λ ¥  
```
reports/YYYY-MM-DD/BUY|HOLD|SELL/TICKER/EN/
β”β”€β”€ news_report.md                    # μ›λ³Έ
β”β”€β”€ structured_news_report.md         # κµ¬μ΅°ν™”λ λ‰΄μ¤ λ¦¬ν¬νΈ
β”β”€β”€ final_trade_decision.md           # μ›λ³Έ  
β””β”€β”€ simplified_final_trade_decision.md # κ°„μ†ν™”λ ν¬μ κ²°μ •
```

## π” ν•„μ μ„¤μ •

### GitHub Repository Secrets
```
OPENAI_API_KEY: sk-...  # OpenAI API ν‚¤ (ν•„μ)
```

### κ¶ν• μ„¤μ •
- Workflowsλ” `contents: write` κ¶ν• λ³΄μ 
- μλ™μΌλ΅ μ²λ¦¬λ νμΌμ„ μ»¤λ°‹/ν‘Έμ‹

## β… κ²€μ¦ μ™„λ£

### λ΅μ»¬ ν…μ¤νΈ κ²°κ³Ό
```
β… λ¨λ“  ν•„μ νμΌ μ΅΄μ¬
β… Python μμ΅΄μ„± ν™•μΈ  
β… XML ν…ν”λ¦Ώ μ ν¨μ„± κ²€μ¦
β… Python μ¤ν¬λ¦½νΈ κµ¬λ¬Έ κ²€μ‚¬
β… μƒν” λ°μ΄ν„°λ΅ λ“λΌμ΄ λ° ν…μ¤νΈ
β… YAML μ›ν¬ν”λ΅μ° κµ¬λ¬Έ κ²€μ‚¬
```

### κΈ°λ¥ κ²€μ¦
- β… λ‰΄μ¤ λ¦¬ν¬νΈ 10κ° νμΌ κ°μ§€
- β… ν¬μ κ²°μ • λ¦¬ν¬νΈ 10κ° νμΌ κ°μ§€  
- β… λ“λΌμ΄ λ° λ¨λ“ μ •μƒ μ‘λ™
- β… ν…ν”λ¦Ώ νμ‹± λ° κµ¬μ΅°ν™” μ„±κ³µ

## π‰ μ¦‰μ‹ μ‚¬μ© κ°€λ¥

λ¨λ“  κµ¬ν„μ΄ μ™„λ£λμ–΄ **μ¦‰μ‹ μ‚¬μ© κ°€λ¥**ν•©λ‹λ‹¤:

1. **GitHub Secretsμ— `OPENAI_API_KEY` μ„¤μ •**
2. **νμΌλ“¤μ„ repositoryμ— ν‘Έμ‹**  
3. **GitHub Actionsμ—μ„ μ›ν¬ν”λ΅μ° μ‹¤ν–‰**

## π“ κ¶μ¥ μ›ν¬ν”λ΅μ°

**`postprocess-all-reports.yml`** μ‚¬μ©μ„ κ¶μ¥ν•©λ‹λ‹¤:
- ν¬μ κ²°μ • + λ‰΄μ¤ λ¦¬ν¬νΈ ν†µν•© μ²λ¦¬
- μ„ νƒμ  μ²λ¦¬ μµμ… (ν•„μ”μ— λ”°λΌ κ°κ° λΉ„ν™μ„±ν™” κ°€λ¥)
- κ°€μ¥ μ™„μ „ν•κ³  μ μ—°ν• μ†”λ£¨μ…
- μλ™ ν’μ§ κ²€μ‚¬ ν¬ν•¨

## π”„ μλ™ν™” νλ¦„

```
λ§¤μΌ μλ™ μ‹¤ν–‰:
generate-reports.yml β†’ postprocess-all-reports.yml β†’ ν’μ§ κ²€μ‚¬ β†’ μλ™ μ»¤λ°‹
```

μ΄μ  λ§¤μΌ μΌκ΄€λ ν’μ§μ κµ¬μ΅°ν™”λ λ‰΄μ¤ λ¦¬ν¬νΈμ™€ κ°„μ†ν™”λ ν¬μ κ²°μ • λ¦¬ν¬νΈκ°€ μλ™μΌλ΅ μƒμ„±λ©λ‹λ‹¤! π€